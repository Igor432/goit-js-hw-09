{"mappings":"YACA,IAAMA,EAAOC,SAASC,cAAc,SAGpC,SAASC,EAAcC,EAAUC,GAE/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAEvBL,EAEFI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,aAoCzBL,EAAKY,iBAAiB,UAAU,SAACC,GAC/BA,EAAGC,oBAKLd,EAAKY,iBAAiB,UAAU,WAC9B,IAAMG,EAAYf,EAAKE,cAAc,wBAAwBc,MACvDC,EAAajB,EAAKE,cAAc,uBAAuBc,MACzDE,EAAUlB,EAAKE,cAAc,sBAAsBc,MAgBvD,SAASG,IAEP,I,kBAEEC,YAAW,WAET,IAAMC,EAAcH,GAAWI,EAAI,GAEnCnB,EAAcmB,EAAGC,SAASN,GAAcI,GAAaG,MAAK,SAAAC,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MAErEqB,QAAQC,IACL,uBAAwCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,UAEhDwB,OAAM,SAAAJ,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MAClBqB,QAAQC,IACL,sBAAqCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,YAEjDa,EAAUI,IAfNQ,EAAI,EAAGA,GAAKf,EAAWe,IAAGC,EAAAD,GAdrCV,YAAW,WACTjB,EAAc,EAAGc,GAAYO,MAAK,SAAAC,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MAE7CqB,QAAQC,IACL,uBAAwCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,UAEhDwB,OAAM,SAAAJ,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MAClBqB,QAAQC,IACL,sBAAuCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,UAC/C2B,QAAQb,KACZF,M","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst form = document.querySelector('.form')\n\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n\n    if (shouldResolve) {\n\n      resolve({ position, delay })\n    } else { // Fulfill\n      reject({ position, delay })\n    }\n  })\n}\n\n\n/*\n \n  function doNext() {\n    for (let i = 1; i < amount; i++) {\n \n      position = 2;\n      delay = firstDelay + stepDelay * position\n \n      setTimeout(() => {\n        const newProm = new Promise((resolve, reject) => {\n          const shouldResolve = Math.random() > 0.3;\n \n          const first = parseInt(firstDelay)\n          const secDelay = stepDelay * (position - 1);\n \n          if (shouldResolve) {\n            resolve({ position: position++, delay: first + secDelay })\n          } else {\n            reject({ position: position++, delay: first + secDelay });\n          }\n        })\n      }, stepDelay * i)\n \n    }\n  }\n*/\n\n\n\n\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n})\n\n\n\nform.addEventListener('submit', () => {\n  const amountVal = form.querySelector('input[name=\"amount\"]').value\n  const firstDelay = form.querySelector('input[name=\"delay\"]').value\n  var stepDel = form.querySelector('input[name=\"step\"]').value\n\n\n\n  setTimeout(() => {\n    createPromise(1, firstDelay).then(({ position, delay }) => {\n\n      console.log\n        (`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n      .catch(({ position, delay }) => {\n        console.log\n          (`❌ Rejected promise ${position} in ${delay}ms`);\n      }).finally(doNext)\n  }, firstDelay)\n\n  function doNext() {\n\n    for (let i = 2; i <= amountVal; i++) {\n\n      setTimeout(() => {\n\n        const delayResult = stepDel * (i - 1);\n\n        createPromise(i, parseInt(firstDelay) + delayResult).then(({ position, delay }) => {\n\n          console.log\n            (`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n          .catch(({ position, delay }) => {\n            console.log\n              (`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }, stepDel * i);\n    }\n  }\n}\n)\n\n\n\n\n\n\n\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","ev","preventDefault","amountVal","value","firstDelay","stepDel","doNext","setTimeout","delayResult","i","parseInt","then","param","console","log","concat","catch","i1","_loop","finally"],"version":3,"file":"03-promises.f4c1cf04.js.map"}