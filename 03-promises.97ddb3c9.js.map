{"mappings":"AACA,MAAMA,EAAOC,SAASC,cAAc,SAGpC,SAASC,EAAcC,EAAUC,GAE/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAEvBL,EAEFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,OAoCzBL,EAAKY,iBAAiB,UAAWC,IAC/BA,EAAGC,oBAKLd,EAAKY,iBAAiB,UAAU,KAC9B,MAAMG,EAAYf,EAAKE,cAAc,wBAAwBc,MACvDC,EAAajB,EAAKE,cAAc,uBAAuBc,MAC7D,IAAIE,EAAUlB,EAAKE,cAAc,sBAAsBc,MAgBvD,SAASG,IAEP,IAAK,IAAIC,EAAI,EAAGA,GAAKL,EAAWK,IAE9BC,YAAW,KAET,MAAMC,EAAcJ,GAAWE,EAAI,GAEnCjB,EAAciB,EAAGG,SAASN,GAAcK,GAAaE,MAAK,EAACpB,SAAEA,EAAQC,MAAEA,MAErEoB,QAAQC,IACL,uBAAqBtB,QAAiBC,UAExCsB,OAAM,EAACvB,SAAEA,EAAQC,MAAEA,MAClBoB,QAAQC,IACL,sBAAoBtB,QAAeC,YAEzCa,EAAUE,GA7BjBC,YAAW,KACTlB,EAAc,EAAGc,GAAYO,MAAK,EAACpB,SAAEA,EAAQC,MAAEA,MAE7CoB,QAAQC,IACL,uBAAqBtB,QAAiBC,UAExCsB,OAAM,EAACvB,SAAEA,EAAQC,MAAEA,MAClBoB,QAAQC,IACL,sBAAoBtB,QAAiBC,UACvCuB,QAAQT,KACZF","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst form = document.querySelector('.form')\n\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n\n    if (shouldResolve) {\n\n      resolve({ position, delay })\n    } else { // Fulfill\n      reject({ position, delay })\n    }\n  })\n}\n\n\n/*\n \n  function doNext() {\n    for (let i = 1; i < amount; i++) {\n \n      position = 2;\n      delay = firstDelay + stepDelay * position\n \n      setTimeout(() => {\n        const newProm = new Promise((resolve, reject) => {\n          const shouldResolve = Math.random() > 0.3;\n \n          const first = parseInt(firstDelay)\n          const secDelay = stepDelay * (position - 1);\n \n          if (shouldResolve) {\n            resolve({ position: position++, delay: first + secDelay })\n          } else {\n            reject({ position: position++, delay: first + secDelay });\n          }\n        })\n      }, stepDelay * i)\n \n    }\n  }\n*/\n\n\n\n\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n})\n\n\n\nform.addEventListener('submit', () => {\n  const amountVal = form.querySelector('input[name=\"amount\"]').value\n  const firstDelay = form.querySelector('input[name=\"delay\"]').value\n  var stepDel = form.querySelector('input[name=\"step\"]').value\n\n\n\n  setTimeout(() => {\n    createPromise(1, firstDelay).then(({ position, delay }) => {\n\n      console.log\n        (`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n      .catch(({ position, delay }) => {\n        console.log\n          (`❌ Rejected promise ${position} in ${delay}ms`);\n      }).finally(doNext)\n  }, firstDelay)\n\n  function doNext() {\n\n    for (let i = 2; i <= amountVal; i++) {\n\n      setTimeout(() => {\n\n        const delayResult = stepDel * (i - 1);\n\n        createPromise(i, parseInt(firstDelay) + delayResult).then(({ position, delay }) => {\n\n          console.log\n            (`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n          .catch(({ position, delay }) => {\n            console.log\n              (`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }, stepDel * i);\n    }\n  }\n}\n)\n\n\n\n\n\n\n\n"],"names":["$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","ev","preventDefault","amountVal","value","firstDelay","stepDel","doNext","i","setTimeout","delayResult","parseInt","then","console","log","catch","finally"],"version":3,"file":"03-promises.97ddb3c9.js.map"}